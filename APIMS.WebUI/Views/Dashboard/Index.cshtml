@model APIMS.Domain.User
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_LayoutLayui.cshtml";
}
<style>
    body{
        background-color: #F2F2F2;
    }
    .layui-elem-quote{
        background-color: #FFF;
    }
    .layui-row{
        padding: 10px;
    }
    .layui-card{
        height: 250px;
    }
    .layui-card-High{
        height: 350px;
    }
    .layui-col-space10 {
        margin: 0px;
    }
    .layui-card-header{
        background-color: #00a73c;
        color: #FFF;
        background: linear-gradient(to right, #00a73c, #47b56e);
    }
    /*1*/
    .layadmin-shortcut li {
        text-align: center;
    }
    .layadmin-shortcut li .layui-icon {
        display: inline-block;
        width: 100%;
        height: 60px;
        line-height: 60px;
        text-align: center;
        border-radius: 2px;
        font-size: 30px;
        background-color: #F8F8F8;
        color: #333;
        transition: all .3s;
        -webkit-transition: all .3s;        
        cursor: pointer;
    }
    
    .layadmin-shortcut li cite {
        position: relative;
        top: 2px;
        display: block;
        color: #666;
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        font-size: 14px;
        cursor: pointer;
    }
    /*2*/
    .layadmin-backlog .layadmin-backlog-body {
        display: block;
        padding: 10px 15px;
        background-color: #f8f8f8;
        color: #666;
        border-radius: 2px;
        transition: all .3s;
        -webkit-transition: all .3s;
    }
    .layadmin-backlog-body h3 {
        padding-bottom: 10px;
        font-size: 16px;
    }
    .layadmin-backlog-body p cite {
        font-style: normal;
        font-size: 30px;
        font-weight: 300;
        color: #00a73c;
    }
    .layui-table-box a{
        color: #01AAED;
    }
    .layui-table-box .successful{
        color: #5FB878;
    }
    .department{
        color: #00a73c;
        font-weight: bold;
    }
</style>
<blockquote class="layui-elem-quote layui-quote-nm">
    <div>
        @Model.UName，欢迎使用本系统。所在单位：<span class="department">【资源县农业局】</span>当前时间：@DateTime.Now.ToLongDateString() @DateTime.Now.ToLongTimeString()。
    </div>
</blockquote>
<div class="layui-row layui-col-space10">
    <div class="layui-col-md4">
        <div class="layui-card">
            <div class="layui-card-header">快捷方式</div>
            <div class="layui-card-body">                
                <ul class="layui-row layui-col-space10 layui-this layadmin-shortcut">
                    <li class="layui-col-xs3">
                        <a lay-href="home/homepage1.html">
                            <i class="layui-icon layui-icon-console"></i>
                            <cite>主页一</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a lay-href="home/homepage2.html">
                            <i class="layui-icon layui-icon-chart"></i>
                            <cite>主页二</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a lay-href="component/layer/list.html">
                            <i class="layui-icon layui-icon-template-1"></i>
                            <cite>弹层</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a layadmin-event="im">
                            <i class="layui-icon layui-icon-chat"></i>
                            <cite>聊天</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a lay-href="component/progress/index.html">
                            <i class="layui-icon layui-icon-find-fill"></i>
                            <cite>进度条</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a lay-href="app/workorder/list.html">
                            <i class="layui-icon layui-icon-survey"></i>
                            <cite>工单</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a lay-href="user/user/list.html">
                            <i class="layui-icon layui-icon-user"></i>
                            <cite>用户</cite>
                        </a>
                    </li>
                    <li class="layui-col-xs3">
                        <a lay-href="set/system/website.html">
                            <i class="layui-icon layui-icon-set"></i>
                            <cite>设置</cite>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="layui-col-md4">
        <div class="layui-card">
            <div class="layui-card-header">农产品数量</div>
            <div class="layui-card-body">
                <ul class="layui-row layui-col-space10 layui-this layadmin-backlog">
                    <li class="layui-col-xs6">
                        <a lay-href="app/content/comment.html" class="layadmin-backlog-body">
                            <h3>小麦及混合麦</h3>
                            <p><cite>33</cite></p>
                        </a>
                    </li>
                    <li class="layui-col-xs6">
                        <a lay-href="app/forum/list.html" class="layadmin-backlog-body">
                            <h3>玉米</h3>
                            <p><cite>12</cite></p>
                        </a>
                    </li>
                    <li class="layui-col-xs6">
                        <a lay-href="template/goodslist.html" class="layadmin-backlog-body">
                            <h3>稻谷、谷子和高粱</h3>
                            <p><cite>50</cite></p>
                        </a>
                    </li>
                    <li class="layui-col-xs6">
                        <a href="javascript:;" onclick="layer.tips('不跳转', this, {tips: 3});" class="layadmin-backlog-body">
                            <h3>糙米</h3>
                            <p><cite>20</cite></p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="layui-col-md4">
        <div class="layui-card">
            <div class="layui-card-header">农产品前5比例</div>
            <div class="layui-card-body">
                <div id="chart1" style="width:100%;height:180px;"></div>
            </div>
        </div>
    </div>
</div>
<div class="layui-row layui-col-space10">
    <div class="layui-col-md8">
        <div class="layui-card layui-card-High">
            <div class="layui-card-header">橙子每日销量走势</div>
            <div class="layui-card-body">
                <div id="chart2" style="width:100%;height:280px;"></div>
            </div>
        </div>
    </div>
    <div class="layui-col-md4">
        <div class="layui-card layui-card-High">
            <div class="layui-card-header">本月销量排名</div>
            <div class="layui-card-body">
                <div id="chart3" style="width:100%;height:280px;"></div>
            </div>
        </div>
    </div>
</div>
<div class="layui-row layui-col-space10">
    <div class="layui-col-md8">
        <div class="layui-card">
            <div class="layui-card-header">热销产品</div>
            <div class="layui-card-body">
                <table class="layui-table layui-text" lay-data="{height:100%, page:true, id:'test'}" lay-filter="test">
                    <thead>
                        <tr>
                            <th lay-data="{field:'id', width:80, sort: true}"></th>
                            <th lay-data="{field:'product', sort: true}">农场品</th>
                            <th lay-data="{field:'product_count', sort: true}">产量</th>
                            <th lay-data="{field:'product_sale', sort: true}">销量</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td><a>橙子</a></td>
                            <td>503.5</td>
                            <td>300</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td><a>柚子</a></td>
                            <td>400.5</td>
                            <td>250</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td><a>番茄</a></td>
                            <td>300</td>
                            <td>250</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <div class="layui-col-md4">
        <div class="layui-card">
            <div class="layui-card-header">采集信息</div>
            <div class="layui-card-body">
                <table class="layui-table layui-text" lay-data="{height:100%, page:true, id:'test2'}" lay-filter="test2">
                    <thead>
                        <tr>
                            <th lay-data="{field:'id', width:80, sort: true}"></th>
                            <th lay-data="{field:'product', sort: true}">任务</th>
                            <th lay-data="{field:'product_count', sort: true}">日期</th>
                            <th lay-data="{field:'product_sale', sort: true}">状态</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>中国农产品网采集任务</td>
                            <td>2019-2-20</td>
                            <td><span class="successful">成功</span></td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>农产品供求信息网数据采集</td>
                            <td>2019-2-20</td>
                            <td><span class="successful">成功</span></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>惠农网采集任务</td>
                            <td>2019-2-21</td>
                            <td><span class="successful">成功</span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script src="~/Scripts/echarts/echarts.min.js"></script>
<script>
    layui.use(['table'], function () {
    });
    var pie = echarts.init(document.getElementById('chart1'));
    var optionPie = {
        title: {
            text: '排名前5名的农产品',
            subtext: '',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            orient: 'vertical',
            left: 'left',
            data: ['水稻', '猪肉', '小麦', '番茄', '鸡蛋']
        },
        series: [
            {
                name: '访问来源',
                type: 'pie',
                radius: '55%',
                center: ['50%', '60%'],
                data: [
                    { value: 400, name: '水稻' },
                    { value: 380, name: '猪肉' },
                    { value: 250, name: '小麦' },
                    { value: 200, name: '番茄' },
                    { value: 100, name: '鸡蛋' }
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    };
    pie.setOption(optionPie);

    var line = echarts.init(document.getElementById('chart2'));
    var base = +new Date(2019, 1, 21);
    var oneDay = 24 * 3600 * 1000;
    var date = [];

    var data = [10.5];

    for (var i = 1; i < 30; i++) {
        var now = new Date(base += oneDay);
        date.push([/*now.getFullYear(),*/ now.getMonth(), now.getDate()].join('-'));
        data.push(rnd(10, 20));
    }
    var optionLine = {
        xAxis: {
            type: 'category',
            data: date,
            name: '日期'
        },
        yAxis: {
            type: 'value',
            name: '单位（吨）'
        },
        series: [{
            data: data,
            type: 'line',
            smooth: true,
            itemStyle: { normal: { label: { show: true } } }
        }]
    };
    line.setOption(optionLine);

    var bar = echarts.init(document.getElementById('chart3'));
    var optionBar = {
        xAxis: {
            type: 'category',
            data: ['橙子', '柚子', '青枣', '白菜', '番茄']
        },
        yAxis: {
            type: 'value'
        },
        series: [{
            data: [100, 85, 70, 65, 55],
            type: 'bar',
            smooth: true,
            itemStyle: { normal: { label: { show: true } } }
        }]
    };
    bar.setOption(optionBar);

    function rnd(n, m) {
        var random = Math.floor(Math.random() * (m - n + 1) + n);
        return random;
    }
</script>